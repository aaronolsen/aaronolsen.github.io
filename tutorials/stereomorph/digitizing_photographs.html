<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<title>StereoMorph - Digitizing application</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" >
<link rel="shortcut icon" href="../../img/favicon.png"/>
<link href="../../css/stylesheet2.css" rel="stylesheet" type="text/css">

<body>
	<div id='container' class='container'>

		<div id='header' class='header' >
			<div style='position:relative;' >
				<img id='header_image' style='float:right;' src='../../img/headers/American Wigeon.jpg' />
				<div id='header_image_caption' style='color:white' class='header_image_caption' >
					American Wigeon
				</div>
			</div>
		</div>

		<div id='linksidebar' class='linksidebar' >
			<div class='linksidebar_mainlink' >
				<a class='linksidebar_link' href='../../about_me.html'>About me</a>
			</div>
			<div class='linksidebar_mainlink' >
				<a class='linksidebar_link' href='../../current_projects.html'>Current projects</a>
			</div>
			<div class='linksidebar_mainlink' >
				<a class='linksidebar_link' href='../../software.html'>Software</a>
			</div>
			<div class='linksidebar_mainlink' >
				<a class='linksidebar_link' href='../../tutorials/visualization3d.html'>Tutorials</a>
			</div>
			<div class='linksidebar_sublink' >
				<a class='linksidebar_link' href='../../tutorials/visualization3d.html'>3D Visualization</a>
			</div>
			<div class='linksidebar_sublink' >
				<a class='linksidebar_link' href='../../tutorials/morphometrics.html'>Shape analysis</a>
			</div>
			<div class='linksidebar_sublink' >
				<a class='linksidebar_link' href='../../tutorials/motion.html'>Motion analysis</a>
			</div>
			<div class='linksidebar_sublink' >
				<a class='linksidebar_link' href='../../tutorials/mechanisms.html'>Mechanism models</a>
			</div>
			<div class='linksidebar_sublink' >
				<a class='linksidebar_link' href='../../tutorials/stereomorph.html'>StereoMorph User Guide</a>
			</div>
			<div class='linksidebar_sub2link' >
				<a class='linksidebar_link' href='../../tutorials/stereomorph/installing_stereomorph.html'>1 Getting started</a>
			</div>
			<div class='linksidebar_sub2link' >
				<a class='linksidebar_link' href='../../tutorials/stereomorph/choosing_cameras_general.html'>2 Choosing cameras</a>
			</div>
			<div class='linksidebar_sub2link' >
				<a class='linksidebar_link' href='../../tutorials/stereomorph/choose_checkerboard_size.html'>3 Creating a checkerboard</a>
			</div>
			<div class='linksidebar_sub2link' >
				<a class='linksidebar_link' href='../../tutorials/stereomorph/arranging_cameras_photography.html'>4 Arranging the cameras</a>
			</div>
			<div class='linksidebar_sub2link' >
				<a class='linksidebar_link' href='../../tutorials/stereomorph/calibration_general.html'>5 Calibrating stereo cameras</a>
			</div>
			<div class='linksidebar_sub2link' >
				<a class='linksidebar_link' href='../../tutorials/stereomorph/photographing_objects.html'>6 Photographing objects</a>
			</div>
			<div class='linksidebar_sub2link' >
				<a class='linksidebar_link' href='../../tutorials/stereomorph/digitizing_video.html'>7 Digitizing application</a>
			</div>
				<div class='linksidebar_sub3link' >
				<a class='linksidebar_link' href='../../tutorials/stereomorph/digitizing_video.html'>7.1 Digitizing video frames</a>
			</div>
				<div class='linksidebar_sub3link_u' >
				<a class='linksidebar_link_u' href='../../tutorials/stereomorph/digitizing_photographs.html'>7.2 Digitizing photographs</a>
			</div>
				<div class='linksidebar_sub3link' >
				<a class='linksidebar_link' href='../../tutorials/stereomorph/digitizing_landmarks.html'>7.3 Digitizing landmarks</a>
			</div>
				<div class='linksidebar_sub3link' >
				<a class='linksidebar_link' href='../../tutorials/stereomorph/digitizing_curves.html'>7.4 Digitizing curves</a>
			</div>
				<div class='linksidebar_sub3link' >
				<a class='linksidebar_link' href='../../tutorials/stereomorph/digitizing_moving.html'>7.5 Moving between images</a>
			</div>
				<div class='linksidebar_sub3link' >
				<a class='linksidebar_link' href='../../tutorials/stereomorph/digitizing_shortcuts.html'>7.6 Keyboard shortcuts</a>
			</div>
			<div class='linksidebar_sub2link' >
				<a class='linksidebar_link' href='../../tutorials/stereomorph/reconstructing_landmarks.html'>8 Reconstruction</a>
			</div>
			<div class='linksidebar_sub2link' >
				<a class='linksidebar_link' href='../../tutorials/stereomorph/visualizing_shape.html'>9 Visualizing shape data</a>
			</div>
			<div class='linksidebar_sub2link' >
				<a class='linksidebar_link' href='../../tutorials/stereomorph/reflect_missing.html'>10 Reflecting bilateral landmarks</a>
			</div>
			<div class='linksidebar_sub2link' >
				<a class='linksidebar_link' href='../../tutorials/stereomorph/align_bilateral.html'>11 Aligning bilateral landmarks</a>
			</div>
			<div class='linksidebar_sub2link' >
				<a class='linksidebar_link' href='../../tutorials/stereomorph/extracting_frames.html'>12 Additional features</a>
			</div>
			<div class='linksidebar_sub2link' >
				<a class='linksidebar_link' href='../../tutorials/stereomorph/citing.html'>13 Citing StereoMorph</a>
			</div>
			<div class='linksidebar_sub2link' >
				<a class='linksidebar_link' href='../../tutorials/stereomorph/acknowledgements.html'>14 Acknowledgements</a>
			</div>
			<div class='linksidebar_sublink' >
				<a class='linksidebar_link' href='../../tutorials/knex/large_u_joint.html'>K'nex models</a>
			</div>
			<div class='linksidebar_mainlink' >
				<a class='linksidebar_link' href='../../contact.html'>Contact</a>
			</div>
			<div class='linksidebar_mainlink' >
				<a class='linksidebar_link' href='../../cv.html'>CV</a>
			</div>
		</div>

		<div id='maincontent' class='maincontent' >

			<div id='pagetrail' class='pagetrail' ><a href="../../about_me.html">home</a>&nbsp;&nbsp;&nbsp;>&nbsp;&nbsp;&nbsp;<a href="../../tutorials/visualization3d.html">tutorials</a>&nbsp;&nbsp;&nbsp;>&nbsp;&nbsp;&nbsp;<a href="../../tutorials/stereomorph.html">stereomorph user guide</a>&nbsp;&nbsp;&nbsp;>&nbsp;&nbsp;&nbsp;<a href="../../tutorials/stereomorph/digitizing_video.html">7 digitizing application</a>&nbsp;&nbsp;&nbsp;>&nbsp;&nbsp;&nbsp;7.2 digitizing photographs</div>


<div class="maincontentfill">
	<h1>7.2 Digitizing photographs</h1>
	<p>
		Once you have captured stereo images or video you can use the StereoMorph digitizing 
		application to manually identify landmarks or curves that you want to reconstruct 
		into 3D. Currently, StereoMorph doesn't have any automated feature recognition tools 
		(except the checkerboard detection). But the digitizing application provides a 
		user-friendly interface for identifying features yourself. This can be useful for 
		features that would be otherwise difficult to identify or reconstruct automatically. 
		The application is launched from R but runs in your default web browser (you do not 
		need to be connected to the internet to launch the app since it runs on an internal 
		server). The app is fully functional across Safari, Chrome, Firefox and Opera.
	</p>
	<p>
		Once you have a set of images from two or more camera views you can use the StereoMorph 
		digitizing application to manually identify the features that you want to reconstruct 
		into 3D. We used this application in a previous section to 
		<a href='checkerboard_size_ruler.html' >precisely measure the square size of a checkerboard</a>. 
		If you'd like to work through the example below, 
		you can <a href='../../software/stereomorph/tutorial_files/Stereo_image_set.zip'>
		download an example set of stereo images here (4 MB)</a>. Unzip this folder and move the folder 
		contents to your current R working directory.
	</p>
	<p>
		1. Load the StereoMorph library if it isn't already loaded.
	</p>

<div class="code" ><pre class="code">
<span class="code_comment" ># Load the StereoMorph package</span>
<span class="code_function" >library</span>(StereoMorph)
</pre></div>

	<p>
		2. Launch the digitizing application using the <span class='in_line_code'>digitizeImages()</span> function.
	</p>

<div class="code" ><pre class="code">
<span class="code_comment" ># Launch the digitizing application</span>
<span class="code_function" >digitizeImages</span>(image.file=<span class="code_quote" >'Images'</span>, shapes.file=<span class="code_quote" >'Shapes 2D'</span>, landmarks.ref=<span class="code_quote" >'landmarks.txt'</span>, 
	curves.ref = <span class="code_quote" >'curves.txt'</span>, cal.file=<span class="code_quote" >'calibration.txt'</span>)
</pre></div>

	<p>
		3. These are the basic input parameters to <span class='in_line_code'>digitizeImages()</span> when using the app to 
		digitize stereo image sets (refer to 
		<a href='../../software/stereomorph/tutorial_files/Stereo_image_set.zip' >this stereo image set</a> 
		for an example):
	</p>
	
	<ul>
		<li>
			<strong>image.file</strong>: A folder containing the images to be digitized, 
			separated into a folder for each view.
		</li>
		<li>
			<strong>shapes.file</strong>: A folder where the shape data will be saved. If 
			this does not exist it will be created automatically with the same sub-folders 
			as <strong>image.file</strong>.
		</li>
		<li>
			<strong>landmarks.ref</strong>: A .txt file or vector listing the names of the 
			landmarks to be digitized. Landmark names should only contain letters, numbers 
			and underscores (no spaces). If the input is a .txt file, each name should be 
			on a separate line (see <a href='../../software/stereomorph/tutorial_files/landmarks.txt' target='_blank' >this example file</a>).
		</li>
		<li>
			<strong>curves.ref</strong>: (Optional) A .txt file listing the names of the 
			curves to be digitized with the start and end points of each curve. If not 
			digitizing curves this can be omitted. These names should only contain letters, 
			numbers and underscores (no spaces). Each curve should be on a separate line, 
			with the curve name, start, and end point separated by tabs (see 
			<a href='../../software/stereomorph/tutorial_files/curves.txt' target='_blank' >this example file</a>).
		</li>
		<li>
			<strong>cal.file</strong>: The calibration file created by <span class='in_line_code'>calibrateCameras()</span>. 
			The DLT coefficients in this file will be used to draw the epipolar line onto 
			the image when digitizing landmarks.
		</li>
	</ul>
	
	<img width='700px' class='center' src='../../img/tutorials/stereomorph/digitizing_app_stereo_launch.jpg' />
	<div class='img_caption' >
		The StereoMorph digitizing app launched with a stereo image set.
	</div>

	<p>
		The left two-thirds of the app are the image frame. This is where you can navigate 
		around the image and add landmarks and curves using your mouse or trackpad. The 
		right two-thirds are the control panel, for viewing and saving landmark/curve lists 
		and navigating between images. There are four tabs in the control panel: Settings, 
		Landmarks, Curves, and Scaling. The Settings tab contains different user-interaction 
		options. These options will be saved using cookies so they do not have to be reset 
		every time you open the digitizing app. The Landmarks and Curves tabs contain the 
		pixel coordinates of all digitized landmarks and curve points. The Scaling can be 
		ignored for stereo sets - it's used to scale coordinate data for 2D morphometrics.
	</p>
	<p>
		You can navigate around the image in the image frame using the same basic mouse 
		actions as in Google Maps. You can zoom in and out by positioning your cursor over 
		the image and scrolling. To move around the image click and drag the image.
	</p>

	<img width='700px' class='center' src='../../img/tutorials/stereomorph/digitizing_app_zoomed.jpg' />
	<div class='img_caption' >
		Zoom in and out by scrolling over the image.
	</div>


	<div class='tutorial_previous_next' >
		<div style="float:left"><strong>Previous:</strong> <a href="digitizing_video.html" >Digitizing video frames</a></div>
		<div style="float:right"><strong>Next:</strong> <a href="digitizing_landmarks.html" >Digitizing landmarks</a></div>
	</div>
</div>
		</div>

		<div id='footer' class='footer' >
			<div style='float:left;' >© 2019 Aaron Olsen. All rights reserved.<br><br></div>
			<div style='float:right;' >Design and photographs by Aaron Olsen.</div>
			<div style='float:left;background-color:;' >The material on this site is based upon work supported by the National Science Foundation (DGE-1144082, DGE-0903637, DBI-1612230). Any opinions, findings, and conclusions or recommendations expressed in this material are those of the author(s) and do not necessarily reflect the views of the National Science Foundation.</div>
		</div>

	</div>

</body>
<script src="../../js/sharedfunctions2.js" type="text/javascript" ></script>